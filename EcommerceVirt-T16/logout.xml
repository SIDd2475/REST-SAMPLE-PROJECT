<?xml version="1.0" encoding="UTF-8"?>
<con:restMockAction xmlns:con="http://eviware.com/soapui/config" name="logout" method="GET" resourcePath="/logout" id="272cb99b-84e3-4ead-ae6d-3b2075274ed4">
  <con:settings>
    <con:setting id="22685409-faf3-4411-8195-d31f6ef6c43efileName">logout</con:setting>
    <con:setting id="9d18978b-2c80-4d62-928a-b052e23e798cfileName">logout</con:setting>
    <con:setting id="d6dc72e8-aa71-498c-8324-9018f74460defileName">logout</con:setting>
    <con:setting id="60718096-d72f-4b85-bfd2-4d6a797682bffileName">logout</con:setting>
    <con:setting id="272cb99b-84e3-4ead-ae6d-3b2075274ed4fileName">logout</con:setting>
  </con:settings>
  <con:defaultResponse xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">OK Response</con:defaultResponse>
  <con:dispatchStyle>SCRIPT</con:dispatchStyle>
  <con:dispatchConfig/>
  <con:dispatchPath>def queryString = mockRequest.getRequest().getQueryString()
if (!queryString) {
    return "Missing required query parameters"
}

String[] fields = queryString.split("&amp;");
String[] kv;

HashMap&lt;String, String> params = new HashMap&lt;String, String>()
for (int i = 0; i &lt; fields.length; ++i){
    kv = fields[i].split("=");
    if (2 == kv.length)
     params.put(kv[0], kv[1]); 
}

def sessionid = params.get("sessionid")

// check
if( !context.hasProperty( sessionid ))
 return "Invalid Session Id Fault"

// logout
context.removeProperty( context.getProperty( sessionid ))
context.removeProperty( sessionid )
requestContext.sessioninfo = "OK"

return "Ok Response"</con:dispatchPath>
  <con:dispatchXPath/>
  <con:parameterDispatcherRuleContainer/>
  <con:routeScript/>
  <con:requestRouteScript/>
  <con:response name="OK Response" id="6f41173a-4f59-447f-a2d6-b3e2918ed510" httpResponseStatus="200" mediaType="application/json" dataSource="">
    <con:settings/>
    <con:responseContent>{"Successfully logged out session" : "${sessioninfo}"}</con:responseContent>
  </con:response>
  <con:response name="Invalid Session Id Fault" id="f148c5d3-b73d-44d3-ba1a-8f21b4fef2bc" httpResponseStatus="404" mediaType="application/json" dataSource="">
    <con:settings/>
    <con:responseContent>{"Failed" : "Invalid Session Id"}</con:responseContent>
  </con:response>
</con:restMockAction>
